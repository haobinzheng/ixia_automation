DUT_list:
- console_ip: 10.105.241.145
  hostname: S624FFTV22000027
  line: 2091
  login: true
  mgmt_gw: 10.105.241.254
  mgmt_ip: 10.105.241.153/23
  model: 624F_FPOE
  password: Fortinet123!
  pdu_1_ip: 10.105.241.95
  pdu_1_line: 17
  serial: S624FFTV22000027
  username: admin
- console_ip: 10.105.241.145
  hostname: S624FFTV22000026
  line: 2096
  login: false
  mgmt_gw: 10.105.241.254
  mgmt_ip: 10.105.241.157/23
  model: 624F_FPOE
  password: Fortinet123!
  pdu_1_ip: 10.105.241.95
  pdu_1_line: 17
  pdu_2_ip: 10.105.241.96
  pdu_2_line: 17
  serial: S624FFTV22000026
  username: admin
Test_Case_list:
- case_name: bt_scan_class_power
  class_list:
  - 6
  - 4
  - 3
  - 2
  - 1
  - 0
  deliver_power_list:
  - 60
  - 30
  - 15.3
  - 6.9
  - 3.9
  - 15.3
  dut_port_list:
  - port9
  - port10
  - port11
  - port12
  - port13
  - port14
  - port15
  - port16
  execute: true
  poe_port_list:
  - 5,1
  - 6,1
  - 7,1
  - 8,1
  - 9,1
  - 10,1
  - 11,1
  - 12,1
  poe_tester: PSA3000
  python_verify_func: scan_get_poe_inline
  sifo_ip: 10.105.241.47
  tcl_global: puts bt_scan_class_power
  tcl_procedure_list:
  - execute: true
    max_power: 60
    poe_class: 6
    proc_name: psa_bt_6
    tcl_close: false
    tcl_command_list:
    - commands: "proc disconnect {} {\nset port_list {5,1 6,1 7,1 8,1 9,1 10,1 11,1\
        \ 12,1}\nforeach port $port_list {\n  puts \"psa_4pair $port single\"\n  psa_4pair\
        \ $port single\n  puts \"psa_disconnect $port\"\n  psa_disconnect $port\n\
        \ }\n}\n"
      name: disconnect
      sifo_ip: 10.105.241.47
    - commands: "proc psa_bt_6 {} {\nset port_list {5,1 6,1 7,1 8,1 9,1 10,1 11,1\
        \ 12,1}\nforeach port $port_list {\n puts \"psa_disconnect $port\"\n psa_disconnect\
        \ $port\n puts \"psa_4pair $port single\"\n psa_4pair $port single\n puts\
        \ \"psa_auto_port $port BT\"\n psa_auto_port $port BT\n puts \"power_bt $port\
        \ c 6 p 60  \"\n power_bt $port c 6 p 60\n}\n}\n"
      name: psa_bt_6
      sifo_ip: 10.105.241.47
  - execute: true
    max_power: 34.0
    poe_class: 4
    proc_name: psa_bt_4
    tcl_close: false
    tcl_command_list:
    - commands: "proc disconnect {} {\nset port_list {5,1 6,1 7,1 8,1 9,1 10,1 11,1\
        \ 12,1}\nforeach port $port_list {\n  puts \"psa_4pair $port single\"\n  psa_4pair\
        \ $port single\n  puts \"psa_disconnect $port\"\n  psa_disconnect $port\n\
        \ }\n}\n"
      name: disconnect
      sifo_ip: 10.105.241.47
    - commands: "proc psa_bt_4 {} {\nset port_list {5,1 6,1 7,1 8,1 9,1 10,1 11,1\
        \ 12,1}\nforeach port $port_list {\n puts \"psa_disconnect $port\"\n psa_disconnect\
        \ $port\n puts \"psa_4pair $port single\"\n psa_4pair $port single\n puts\
        \ \"psa_auto_port $port BT\"\n psa_auto_port $port BT\n puts \"power_bt $port\
        \ c 4 p 30  \"\n power_bt $port c 4 p 30\n}\n}\n"
      name: psa_bt_4
      sifo_ip: 10.105.241.47
  - execute: true
    max_power: 16.4
    poe_class: 3
    proc_name: psa_bt_3
    tcl_close: false
    tcl_command_list:
    - commands: "proc disconnect {} {\nset port_list {5,1 6,1 7,1 8,1 9,1 10,1 11,1\
        \ 12,1}\nforeach port $port_list {\n  puts \"psa_4pair $port single\"\n  psa_4pair\
        \ $port single\n  puts \"psa_disconnect $port\"\n  psa_disconnect $port\n\
        \ }\n}\n"
      name: disconnect
      sifo_ip: 10.105.241.47
    - commands: "proc psa_bt_3 {} {\nset port_list {5,1 6,1 7,1 8,1 9,1 10,1 11,1\
        \ 12,1}\nforeach port $port_list {\n puts \"psa_disconnect $port\"\n psa_disconnect\
        \ $port\n puts \"psa_4pair $port single\"\n psa_4pair $port single\n puts\
        \ \"psa_auto_port $port BT\"\n psa_auto_port $port BT\n puts \"power_bt $port\
        \ c 3 p 15.3  \"\n power_bt $port c 3 p 15.3\n}\n}\n"
      name: psa_bt_3
      sifo_ip: 10.105.241.47
  - execute: true
    max_power: 16.4
    poe_class: 2
    proc_name: psa_bt_2
    tcl_close: false
    tcl_command_list:
    - commands: "proc disconnect {} {\nset port_list {5,1 6,1 7,1 8,1 9,1 10,1 11,1\
        \ 12,1}\nforeach port $port_list {\n  puts \"psa_4pair $port single\"\n  psa_4pair\
        \ $port single\n  puts \"psa_disconnect $port\"\n  psa_disconnect $port\n\
        \ }\n}\n"
      name: disconnect
      sifo_ip: 10.105.241.47
    - commands: "proc psa_bt_2 {} {\nset port_list {5,1 6,1 7,1 8,1 9,1 10,1 11,1\
        \ 12,1}\nforeach port $port_list {\n puts \"psa_disconnect $port\"\n psa_disconnect\
        \ $port\n puts \"psa_4pair $port single\"\n psa_4pair $port single\n puts\
        \ \"psa_auto_port $port BT\"\n psa_auto_port $port BT\n puts \"power_bt $port\
        \ c 2 p 6.9  \"\n power_bt $port c 2 p 6.9\n}\n}\n"
      name: psa_bt_2
      sifo_ip: 10.105.241.47
  - execute: true
    max_power: 16.4
    poe_class: 1
    proc_name: psa_bt_1
    tcl_close: false
    tcl_command_list:
    - commands: "proc disconnect {} {\nset port_list {5,1 6,1 7,1 8,1 9,1 10,1 11,1\
        \ 12,1}\nforeach port $port_list {\n  puts \"psa_4pair $port single\"\n  psa_4pair\
        \ $port single\n  puts \"psa_disconnect $port\"\n  psa_disconnect $port\n\
        \ }\n}\n"
      name: disconnect
      sifo_ip: 10.105.241.47
    - commands: "proc psa_bt_1 {} {\nset port_list {5,1 6,1 7,1 8,1 9,1 10,1 11,1\
        \ 12,1}\nforeach port $port_list {\n puts \"psa_disconnect $port\"\n psa_disconnect\
        \ $port\n puts \"psa_4pair $port single\"\n psa_4pair $port single\n puts\
        \ \"psa_auto_port $port BT\"\n psa_auto_port $port BT\n puts \"power_bt $port\
        \ c 1 p 3.9  \"\n power_bt $port c 1 p 3.9\n}\n}\n"
      name: psa_bt_1
      sifo_ip: 10.105.241.47
  tester: PSA3000
- case_name: at_scan_class_power
  class_list:
  - 4
  - 3
  - 2
  - 1
  - 0
  deliver_power_list:
  - 25
  - 15.3
  - 6.9
  - 3.9
  - 15.3
  dut_port_list:
  - port2
  - port3
  - port4
  - port5
  - port6
  - port7
  - port8
  execute: true
  poe_port_list:
  - 1,2
  - 2,1
  - 2,2
  - 3,1
  - 3,2
  - 4,1
  - 4,2
  poe_tester: PSA3000
  python_verify_func: scan_get_poe_inline
  sifo_ip: 10.105.241.47
  tcl_global: psa_pse -grant phy -spec at -pol mdix -alt A
  tcl_procedure_list:
  - execute: true
    max_power: 34.0
    poe_class: 4
    proc_name: psa_at_4
    sifo_ip: 10.105.241.47
    tcl_close: false
    tcl_command_list:
    - commands: "proc disconnect {} {\nset port_list {1,2 2,1 2,2 3,1 3,2 4,1 4,2}\n\
        foreach port $port_list {\n #puts \"psa_4pair $port disable\"\n #psa_4pair\
        \ $port disable\n puts \"psa_disconnect $port\"\n psa_disconnect $port\n }\n\
        }\n"
      name: disconnect
      sifo_ip: 10.105.241.47
    - commands: "proc psa_at_4 {} {\nset port_list {1,2 2,1 2,2 3,1 3,2 4,1 4,2}\n\
        foreach port $port_list {\n #puts \"psa_4pair $port disable\"\n #psa_4pair\
        \ $port disable\n puts \"psa_disconnect $port\"\n psa_disconnect $port\n puts\
        \ \"psa_emulate_pd $port start c 4 p 25 o 0\"\n psa_emulate_pd $port start\
        \ c 4 p 25 o 0\n }\n}\n"
      name: psa_at_4
      sifo_ip: 10.105.241.47
  - execute: true
    max_power: 16.4
    poe_class: 3
    proc_name: psa_at_3
    sifo_ip: 10.105.241.47
    tcl_close: false
    tcl_command_list:
    - commands: "proc disconnect {} {\nset port_list {1,2 2,1 2,2 3,1 3,2 4,1 4,2}\n\
        foreach port $port_list {\n #puts \"psa_4pair $port disable\"\n #psa_4pair\
        \ $port disable\n puts \"psa_disconnect $port\"\n psa_disconnect $port\n }\n\
        }\n"
      name: disconnect
      sifo_ip: 10.105.241.47
    - commands: "proc psa_at_3 {} {\nset port_list {1,2 2,1 2,2 3,1 3,2 4,1 4,2}\n\
        foreach port $port_list {\n #puts \"psa_4pair $port disable\"\n #psa_4pair\
        \ $port disable\n puts \"psa_disconnect $port\"\n psa_disconnect $port\n puts\
        \ \"psa_emulate_pd $port start c 3 p 15.3 o 0\"\n psa_emulate_pd $port start\
        \ c 3 p 15.3 o 0\n }\n}\n"
      name: psa_at_3
      sifo_ip: 10.105.241.47
  - execute: true
    max_power: 16.4
    poe_class: 2
    proc_name: psa_at_2
    sifo_ip: 10.105.241.47
    tcl_close: false
    tcl_command_list:
    - commands: "proc disconnect {} {\nset port_list {1,2 2,1 2,2 3,1 3,2 4,1 4,2}\n\
        foreach port $port_list {\n #puts \"psa_4pair $port disable\"\n #psa_4pair\
        \ $port disable\n puts \"psa_disconnect $port\"\n psa_disconnect $port\n }\n\
        }\n"
      name: disconnect
      sifo_ip: 10.105.241.47
    - commands: "proc psa_at_2 {} {\nset port_list {1,2 2,1 2,2 3,1 3,2 4,1 4,2}\n\
        foreach port $port_list {\n #puts \"psa_4pair $port disable\"\n #psa_4pair\
        \ $port disable\n puts \"psa_disconnect $port\"\n psa_disconnect $port\n puts\
        \ \"psa_emulate_pd $port start c 2 p 6.9 o 0\"\n psa_emulate_pd $port start\
        \ c 2 p 6.9 o 0\n }\n}\n"
      name: psa_at_2
      sifo_ip: 10.105.241.47
  - execute: true
    max_power: 16.4
    poe_class: 1
    proc_name: psa_at_1
    sifo_ip: 10.105.241.47
    tcl_close: false
    tcl_command_list:
    - commands: "proc disconnect {} {\nset port_list {1,2 2,1 2,2 3,1 3,2 4,1 4,2}\n\
        foreach port $port_list {\n #puts \"psa_4pair $port disable\"\n #psa_4pair\
        \ $port disable\n puts \"psa_disconnect $port\"\n psa_disconnect $port\n }\n\
        }\n"
      name: disconnect
      sifo_ip: 10.105.241.47
    - commands: "proc psa_at_1 {} {\nset port_list {1,2 2,1 2,2 3,1 3,2 4,1 4,2}\n\
        foreach port $port_list {\n #puts \"psa_4pair $port disable\"\n #psa_4pair\
        \ $port disable\n puts \"psa_disconnect $port\"\n psa_disconnect $port\n puts\
        \ \"psa_emulate_pd $port start c 1 p 3.9 o 0\"\n psa_emulate_pd $port start\
        \ c 1 p 3.9 o 0\n }\n}\n"
      name: psa_at_1
      sifo_ip: 10.105.241.47
  - execute: true
    max_power: 16.4
    poe_class: 0
    proc_name: psa_at_0
    sifo_ip: 10.105.241.47
    tcl_close: false
    tcl_command_list:
    - commands: "proc disconnect {} {\nset port_list {1,2 2,1 2,2 3,1 3,2 4,1 4,2}\n\
        foreach port $port_list {\n #puts \"psa_4pair $port disable\"\n #psa_4pair\
        \ $port disable\n puts \"psa_disconnect $port\"\n psa_disconnect $port\n }\n\
        }\n"
      name: disconnect
      sifo_ip: 10.105.241.47
    - commands: "proc psa_at_0 {} {\nset port_list {1,2 2,1 2,2 3,1 3,2 4,1 4,2}\n\
        foreach port $port_list {\n #puts \"psa_4pair $port disable\"\n #psa_4pair\
        \ $port disable\n puts \"psa_disconnect $port\"\n psa_disconnect $port\n puts\
        \ \"psa_emulate_pd $port start c 0 p 15.3 o 0\"\n psa_emulate_pd $port start\
        \ c 0 p 15.3 o 0\n }\n}\n"
      name: psa_at_0
      sifo_ip: 10.105.241.47
  tester: PSA3000
- case_name: at_lldp_power
  class_list:
  - 4
  - 3
  - 2
  - 1
  - 0
  deliver_power_list:
  - 25
  - 15.3
  - 6.9
  - 3.9
  - 15.3
  dut_port_list:
  - port2
  - port3
  - port4
  - port5
  - port6
  - port7
  - port8
  execute: true
  poe_port_list:
  - 1,2
  - 2,1
  - 2,2
  - 3,1
  - 3,2
  - 4,1
  - 4,2
  poe_tester: PSA3000
  python_verify_func: show_lldp_trace
  sifo_ip: 10.105.241.47
  tcl_global: psa_pse -grant phy+lldp -spec at -pol mdix -alt A
  tcl_procedure_list:
  - execute: true
    max_power: 34
    poe_class: 4
    proc_name: at_lldp_trace
    sifo_ip: 10.105.241.47
    tcl_close: false
    tcl_command_list:
    - commands: "proc disconnect {} {\nset port_list {1,1}\nforeach port $port_list\
        \ {\n #puts \"psa_4pair $port disable\"\n #psa_4pair $port disable\n puts\
        \ \"psa_disconnect $port\"\n psa_disconnect $port\n }\n}\n"
      name: disconnect
      sifo_ip: 10.105.241.47
    - commands: "proc lldp_trace {} {  \nset port_list {1,1}\nputs $port_list\nforeach\
        \ port $port_list {\n  trace_lldp_pwrup $port c 4 pwr 22.2 duration 60\n \
        \ }\n}\n"
      name: lldp_trace
      sifo_ip: 10.105.241.47
  tester: PSA3000
Tester_list:
- hostname: PSA3000
  mgmt_ip: 10.105.241.47
  pdu_ip: 10.105.241.97
  pdu_line: 17
  platform: PSA
  type: POE
