2019-10-07 16:54:01 :: ** Running the test in verbose mode 
2019-10-07 16:54:01 :: ** Before starting testing, configure devices 
2019-10-07 16:54:01 :: ** Running test with port log-mac-event enabled 
2019-10-07 16:54:01 :: ** Will factory reset each FSW  
2019-10-07 16:54:01 :: ** Fiber cut test will be in automated mode 
2019-10-07 16:54:01 :: ** Test Bed = fg-548d 
2019-10-07 16:54:01 :: ** IXIA ports will be allocated IP address statically  
2019-10-07 16:54:01 :: ** Test iterate numbers = 2 
2019-10-07 16:54:01 :: ** Test Case To Run:3 
For test #1, MAC table size = [1000, 2000, 3000, 4000, 5000]
2019-10-07 16:54:01 :: ** Test under background MAC address learning,size = [1000, 2000, 3000, 4000, 5000] 
2019-10-07 16:54:01 :: ** Measure performance WITHOUT rebooting DUTs 
==============================================================================================
**** REMINDER **** 	**** REMINDER ****	**** REMINDER ****	**** REMINDER ****	 
Please make sure to execute the following procedures before running the test:
	1)Make sure sensitive micro-usb console cables are connected well. 
	2)Make sure IXIA port connection is good. A bad connection will fail the script.
	3)Remember to move the 3rd and 4th IXIA port from 548D setup to 448D or visa versa 
	when switching to differrent testbed
	4)Make sure the have -e option at CLI to run sw1 and sw2 setup
	5)Make sure to uncomment of lines under the <official run> marker 
===============================================================================================
2019-10-07 16:54:01 :: ============================== Pre-test setup and configuration =================== 

		1) SW1: shut down port13 and port14
		2) sw1: enable port 7
		3) 424D: enable port 1
		4) DUT1: enable port49, port 50
		5) DUT2: enable port49, port 50
		6) TBD: FGT configuration
		7) TBD: DUT1, DUT2, DUT3, DUT4 ICL and other configuration.  
		
2019-10-07 16:54:01 :: console server ip =10.105.50.3 
2019-10-07 16:54:01 :: console port=2057 
2019-10-07 16:54:01 :: !!!!!!!!!!!the console is being used, need to clear it first 
Trying to clear line on comm_server: 10.105.50.3 port: 2057
login sucessfully into 10.105.50.3
2019-10-07 16:54:10 :: Debug: See what prompt the console is at 
2019-10-07 16:54:13 :: Debug: (-1, None, b'\r\n') 
2019-10-07 16:54:13 :: Debug:  
2019-10-07 16:54:13 :: Debug: It is a NOT login prompt, but something is wrong  
2019-10-07 16:54:13 :: Debug: can not get any prompt, need to use robust login procedure... 
(None, None)
Dont know what prompt it is
2019-10-07 16:54:14 :: configuring: config system global 
2019-10-07 16:54:15 :: configuring: set admintimeout 480 
2019-10-07 16:54:15 :: configuring: end 
2019-10-07 16:54:16 :: Login sucessful,return from telnet function
 
2019-10-07 16:54:16 :: console server ip =10.105.50.3 
2019-10-07 16:54:16 :: console port=2056 
2019-10-07 16:54:21 :: Debug: See what prompt the console is at 
2019-10-07 16:54:24 :: Debug: (-1, None, b'\r\nYou are forced to change your password.\r\nNew Password:') 
2019-10-07 16:54:24 :: Debug: You are forced to change your password.
New Password: 
2019-10-07 16:54:24 :: Debug: It is a NOT login prompt, but something is wrong  
2019-10-07 16:54:24 :: Debug: it is a new switch that needs to change password, change password to *admin*  
('new', None)
This is new software image and first time login, password has been changed to admin
2019-10-07 16:54:24 :: configuring: config system global 
2019-10-07 16:54:24 :: configuring: set admintimeout 480 
2019-10-07 16:54:25 :: configuring: end 
2019-10-07 16:54:25 :: Login sucessful,return from telnet function
 
2019-10-07 16:54:25 :: console server ip =10.105.50.1 
2019-10-07 16:54:25 :: console port=2075 
2019-10-07 16:54:30 :: Debug: See what prompt the console is at 
2019-10-07 16:54:33 :: Debug: (-1, None, b'\r\nYou are forced to change your password.\r\nNew Password:') 
2019-10-07 16:54:33 :: Debug: You are forced to change your password.
New Password: 
2019-10-07 16:54:33 :: Debug: It is a NOT login prompt, but something is wrong  
2019-10-07 16:54:33 :: Debug: it is a new switch that needs to change password, change password to *admin*  
('new', None)
This is new software image and first time login, password has been changed to admin
2019-10-07 16:54:33 :: configuring: config system global 
2019-10-07 16:54:34 :: configuring: set admintimeout 480 
2019-10-07 16:54:34 :: configuring: end 
2019-10-07 16:54:35 :: Login sucessful,return from telnet function
 
2019-10-07 16:54:35 :: console server ip =10.105.50.1 
2019-10-07 16:54:35 :: console port=2078 
2019-10-07 16:54:40 :: Debug: See what prompt the console is at 
2019-10-07 16:54:43 :: Debug: (-1, None, b'\r\nYou are forced to change your password.\r\nNew Password:') 
2019-10-07 16:54:43 :: Debug: You are forced to change your password.
New Password: 
2019-10-07 16:54:43 :: Debug: It is a NOT login prompt, but something is wrong  
2019-10-07 16:54:43 :: Debug: it is a new switch that needs to change password, change password to *admin*  
('new', None)
This is new software image and first time login, password has been changed to admin
2019-10-07 16:54:43 :: configuring: config system global 
2019-10-07 16:54:43 :: configuring: set admintimeout 480 
2019-10-07 16:54:44 :: configuring: end 
2019-10-07 16:54:44 :: Login sucessful,return from telnet function
 
------------------------------------- Factory resetting FSWs ------------------
2019-10-07 16:54:44 :: Factory reseting dut1-548d at Rack23-29...... 
2019-10-07 16:54:48 :: Factory reseting dut2-548d at Rack23-28...... 
2019-10-07 16:54:52 :: Factory reseting dut3-548d at Rack20-23...... 
2019-10-07 16:54:56 :: Factory reseting dut4-548d at Rack20-22...... 
2019-10-07 16:58:21 :: Debug: See what prompt the console is at 
2019-10-07 16:58:21 :: Debug: y^J


System is fully resetting to factory default...

S548DF4K17000014 # 
S548DF4K17000014 # 

The system is going down NOW !!

Please stand by while rebooting the system.
Restarting system.
 
FortiSwitch-548D-FPOE (13:43-03.09.2017)
BIOS version : 04000016
Serial number: S548DF4K17000014
*** Warning - bad CRC, using default environment


Please wait for OS to boot, or press any key to display configuration menu...  1  0 

Booting default partition : FortiSwitch-548D-FPOE v6.2.0,build0190,191001

Kernel... OK
RootFS... OK
Booting FortiSwitch.


System is started.
A problem was detected in /data, config has been set to factory default


S548DF4K17000014 login: 
2019-10-07 16:58:21 :: Debug: it is a login prompt, you need to re-login 
2019-10-07 16:58:35 :: Debug: See what prompt the console is at 
2019-10-07 16:58:35 :: Debug: S548DF4K17000014 login: 
2019-10-07 16:58:35 :: Debug: it is a login prompt, you need to re-login 
2019-10-07 16:58:46 :: Login sucessful,return from telnet function
 
2019-10-07 16:58:46 :: Debug: See what prompt the console is at 
2019-10-07 16:58:46 :: Debug: y^J


System is fully resetting to factory default...

S548DF4K17000028 # 
S548DF4K17000028 # 

The system is going down NOW !!

Please stand by while rebooting the system.
Restarting system.
 
FortiSwitch-548D-FPOE (13:43-03.09.2017)
BIOS version : 04000016
Serial number: S548DF4K17000028
*** Warning - bad CRC, using default environment


Please wait for OS to boot, or press any key to display configuration menu...  1  0 

Booting default partition : FortiSwitch-548D-FPOE v6.2.0,build0190,191001

Kernel... OK
RootFS... OK
Booting FortiSwitch.


System is started.
A problem was detected in /data, config has been set to factory default


S548DF4K17000028 login: 
2019-10-07 16:58:46 :: Debug: it is a login prompt, you need to re-login 
2019-10-07 16:59:00 :: Debug: See what prompt the console is at 
2019-10-07 16:59:00 :: Debug: S548DF4K17000028 login: 
2019-10-07 16:59:00 :: Debug: it is a login prompt, you need to re-login 
2019-10-07 16:59:11 :: Login sucessful,return from telnet function
 
2019-10-07 16:59:11 :: Debug: See what prompt the console is at 
2019-10-07 16:59:11 :: Debug: y^J


System is fully resetting to factory default...

S548DF4K16000653 # 
S548DF4K16000653 # 

The system is going down NOW !!

Please stand by while rebooting the system.
Restarting system.
 
FortiSwitch-548D-FPOE (09:37-03.02.2016)
BIOS version : 04000013
Serial number: S548DF4K16000653
*** Warning - bad CRC, using default environment


Please wait for OS to boot, or press any key to display configuration menu...  1  0 

Booting default partition : FortiSwitch-548D-FPOE v6.2.0,build0190,191001

Kernel... OK
RootFS... OK
Booting FortiSwitch.


System is started.
A problem was detected in /data, config has been set to factory default


S548DF4K16000653 login: 
2019-10-07 16:59:11 :: Debug: it is a login prompt, you need to re-login 
2019-10-07 16:59:25 :: Debug: See what prompt the console is at 
2019-10-07 16:59:25 :: Debug: S548DF4K16000653 login: 
2019-10-07 16:59:25 :: Debug: it is a login prompt, you need to re-login 
2019-10-07 16:59:36 :: Login sucessful,return from telnet function
 
2019-10-07 16:59:36 :: Debug: See what prompt the console is at 
2019-10-07 16:59:36 :: Debug: y^J


System is fully resetting to factory default...

S548DN4K17000133 # 
S548DN4K17000133 # 

The system is going down NOW !!

Please stand by while rebooting the system.
Restarting system.
 
FortiSwitch-548D (13:43-03.09.2017)
BIOS version : 04000013
Serial number: S548DN4K17000133
*** Warning - bad CRC, using default environment


Please wait for OS to boot, or press any key to display configuration menu...  1  0 

Booting default partition : FortiSwitch-548D v6.2.0,build0190,191001

Kernel... OK
RootFS... OK
Booting FortiSwitch.


System is started.
A problem was detected in /data, config has been set to factory default


S548DN4K17000133 login: 
2019-10-07 16:59:36 :: Debug: it is a login prompt, you need to re-login 
2019-10-07 16:59:50 :: Debug: See what prompt the console is at 
2019-10-07 16:59:50 :: Debug: S548DN4K17000133 login: 
2019-10-07 16:59:50 :: Debug: it is a login prompt, you need to re-login 
2019-10-07 17:00:01 :: Login sucessful,return from telnet function
 
2019-10-07 17:00:03 :: ============================ dut1-548d software image = None 
2019-10-07 17:00:05 :: ============================ dut2-548d software image = None 
2019-10-07 17:00:07 :: ============================ dut3-548d software image = None 
2019-10-07 17:00:09 :: ============================ dut4-548d software image = None 
2019-10-07 17:00:09 :: ------------------------------ login Fortigate devices ----------------------- 
2019-10-07 17:00:09 :: console server ip =10.105.50.1 
2019-10-07 17:00:09 :: console port=2066 
2019-10-07 17:00:09 :: !!!!!!!!!!!the console is being used, need to clear it first 
Trying to clear line on comm_server: 10.105.50.1 port: 2066
login sucessfully into 10.105.50.1
2019-10-07 17:00:26 :: Debug: See what prompt the console is at 
2019-10-07 17:00:28 :: Debug: FortiGate-3960E (global) # 
FortiGate-3960E (global) # 
FortiGate-3960E (global) # 
2019-10-07 17:00:28 :: Debug: It is a NOT a new switch that needs to change password 
2019-10-07 17:00:28 :: Debug: See what prompt the console is at 
2019-10-07 17:00:30 :: Debug: FortiGate-3960E (global) # 



FortiGate-3960E (global) # 
FortiGate-3960E (global) # 
FortiGate-3960E (global) # 
2019-10-07 17:00:30 :: Debug: It is a NOT login prompt, don't have to relogin 
2019-10-07 17:00:30 :: configuring: config system global 
2019-10-07 17:00:31 :: configuring: set admintimeout 480 
2019-10-07 17:00:31 :: configuring: end 
2019-10-07 17:00:32 :: Login sucessful,return from telnet function
 
2019-10-07 17:00:32 :: console server ip =10.105.50.2 
2019-10-07 17:00:32 :: console port=2074 
2019-10-07 17:00:40 :: Debug: See what prompt the console is at 
2019-10-07 17:00:42 :: Debug: FortiGate-3960E # 
FortiGate-3960E # 
FortiGate-3960E # 
2019-10-07 17:00:42 :: Debug: It is a NOT a new switch that needs to change password 
2019-10-07 17:00:42 :: Debug: See what prompt the console is at 
2019-10-07 17:00:44 :: Debug: FortiGate-3960E # 
FortiGate-3960E # 
FortiGate-3960E # 
FortiGate-3960E # 
2019-10-07 17:00:44 :: Debug: It is a NOT login prompt, don't have to relogin 
2019-10-07 17:00:44 :: configuring: config system global 
2019-10-07 17:00:44 :: configuring: set admintimeout 480 
2019-10-07 17:00:45 :: configuring: end 
2019-10-07 17:00:45 :: Login sucessful,return from telnet function
 
2019-10-07 17:00:45 :: *****************Configure device on comserver = 10.105.50.3,port=2057 
2019-10-07 17:00:47 :: Debug: out_list in switch_show_cmd = [b'Login incorrect', b'', b'', b'S548DF4K17000014 login: ', b'', b'S548DF4K17000014 login: get system status', b'Password: '] 
2019-10-07 17:00:47 :: Login incorrect 
2019-10-07 17:00:47 ::  
2019-10-07 17:00:47 ::  
2019-10-07 17:00:47 :: S548DF4K17000014 login: 
2019-10-07 17:00:47 ::  
2019-10-07 17:00:47 :: S548DF4K17000014 login: get system status 
2019-10-07 17:00:47 :: Password: 
2019-10-07 17:00:47 :: configuring: config system interface
 
2019-10-07 17:00:58 :: configuring:     edit "mgmt"
 
2019-10-07 17:01:08 :: configuring: 	set mode static
 
2019-10-07 17:01:19 :: configuring: 	end
 
2019-10-07 17:01:29 :: configuring: 
 
2019-10-07 17:01:40 :: configuring: config system interface
 
2019-10-07 17:01:50 :: configuring:     edit "mgmt"
 
2019-10-07 17:02:01 :: configuring: 	set mode static
 
2019-10-07 17:02:11 :: configuring:         set ip 10.105.50.59 255.255.255.0
 
2019-10-07 17:02:22 :: configuring:         set allowaccess ping https ssh telnet 
 
2019-10-07 17:02:32 :: configuring:     next
 
2019-10-07 17:02:43 :: configuring:     
 
2019-10-07 17:02:53 :: configuring:     edit "internal"
 
2019-10-07 17:03:04 :: configuring:        unset defaultgw   
 
2019-10-07 17:03:14 :: configuring:     end
 
2019-10-07 17:03:25 :: configuring: 
 
2019-10-07 17:03:35 :: configuring: config router static
 
2019-10-07 17:03:46 :: configuring:     edit 1
 
2019-10-07 17:03:56 :: configuring:         set device "mgmt"
 
2019-10-07 17:04:07 :: configuring:         set dst 0.0.0.0 0.0.0.0
 
2019-10-07 17:04:17 :: configuring:         set gateway 10.105.50.254
 
2019-10-07 17:04:28 :: configuring:     next
 
2019-10-07 17:04:38 :: configuring: end
 
2019-10-07 17:04:49 :: *****************Configure device on comserver = 10.105.50.3,port=2056 
2019-10-07 17:04:51 :: Debug: out_list in switch_show_cmd = [b'Login incorrect', b'', b'', b'S548DF4K17000028 login: ', b'', b'S548DF4K17000028 login: get system status', b'Password: '] 
2019-10-07 17:04:51 :: Login incorrect 
2019-10-07 17:04:51 ::  
2019-10-07 17:04:51 ::  
2019-10-07 17:04:51 :: S548DF4K17000028 login: 
2019-10-07 17:04:51 ::  
2019-10-07 17:04:51 :: S548DF4K17000028 login: get system status 
2019-10-07 17:04:51 :: Password: 
2019-10-07 17:04:51 :: configuring: config system interface
 
2019-10-07 17:05:01 :: configuring:     edit "mgmt"
 
2019-10-07 17:05:12 :: configuring: 	set mode static
 
2019-10-07 17:05:22 :: configuring: 	end
 
2019-10-07 17:05:33 :: configuring: config system interface
 
2019-10-07 17:05:43 :: configuring:     edit "mgmt"
 
2019-10-07 17:05:54 :: configuring: 	set mode static
 
2019-10-07 17:06:04 :: configuring:         set ip 10.105.50.60 255.255.255.0
 
2019-10-07 17:06:15 :: configuring:         set allowaccess ping https ssh telnet 
 
2019-10-07 17:06:25 :: configuring:     next
 
2019-10-07 17:06:36 :: configuring:     
 
2019-10-07 17:06:46 :: configuring:     edit "internal"
 
2019-10-07 17:06:57 :: configuring:        unset defaultgw   
 
2019-10-07 17:07:07 :: configuring:     end
 
2019-10-07 17:07:18 :: configuring: 
 
2019-10-07 17:07:29 :: configuring: config router static
 
2019-10-07 17:07:39 :: configuring:     edit 1
 
2019-10-07 17:07:50 :: configuring:         set device "mgmt"
 
2019-10-07 17:08:00 :: configuring:         set dst 0.0.0.0 0.0.0.0
 
2019-10-07 17:08:11 :: configuring:         set gateway 10.105.50.254
 
2019-10-07 17:08:21 :: configuring:     next
 
2019-10-07 17:08:32 :: configuring: end
 
2019-10-07 17:08:42 :: *****************Configure device on comserver = 10.105.50.1,port=2075 
2019-10-07 17:08:44 :: Debug: out_list in switch_show_cmd = [b'Login incorrect', b'', b'', b'S548DF4K16000653 login: ', b'', b'S548DF4K16000653 login: get system status', b'Password: '] 
2019-10-07 17:08:44 :: Login incorrect 
2019-10-07 17:08:44 ::  
2019-10-07 17:08:44 ::  
2019-10-07 17:08:44 :: S548DF4K16000653 login: 
2019-10-07 17:08:44 ::  
2019-10-07 17:08:44 :: S548DF4K16000653 login: get system status 
2019-10-07 17:08:44 :: Password: 
2019-10-07 17:08:44 :: configuring: config system interface
 
2019-10-07 17:08:55 :: configuring:     edit "mgmt"
 
2019-10-07 17:09:05 :: configuring: 	set mode static
 
2019-10-07 17:09:16 :: configuring: 	end
 
2019-10-07 17:09:26 :: configuring: config system interface
 
2019-10-07 17:09:37 :: configuring:     edit "mgmt"
 
2019-10-07 17:09:47 :: configuring: 	set mode static
 
2019-10-07 17:09:58 :: configuring:         set ip 10.105.50.62 255.255.255.0
 
2019-10-07 17:10:08 :: configuring:         set allowaccess ping https ssh telnet 
 
2019-10-07 17:10:19 :: configuring:     next
 
2019-10-07 17:10:29 :: configuring:     
 
2019-10-07 17:10:40 :: configuring:     edit "internal"
 
2019-10-07 17:10:50 :: configuring:        unset defaultgw   
 
2019-10-07 17:11:01 :: configuring:     end
 
2019-10-07 17:11:11 :: configuring:     
 
2019-10-07 17:11:22 :: configuring: config router static
 
2019-10-07 17:11:32 :: configuring:     edit 1
 
2019-10-07 17:11:43 :: configuring:         set device "mgmt"
 
2019-10-07 17:11:53 :: configuring:         set dst 0.0.0.0 0.0.0.0
 
2019-10-07 17:12:04 :: configuring:         set gateway 10.105.50.254
 
2019-10-07 17:12:14 :: configuring:     next
 
2019-10-07 17:12:25 :: configuring: end
 
2019-10-07 17:12:35 :: *****************Configure device on comserver = 10.105.50.1,port=2078 
2019-10-07 17:12:37 :: Debug: out_list in switch_show_cmd = [b'Login incorrect', b'', b'', b'S548DN4K17000133 login: ', b'', b'S548DN4K17000133 login: get system status', b'Password: '] 
2019-10-07 17:12:37 :: Login incorrect 
2019-10-07 17:12:37 ::  
2019-10-07 17:12:37 ::  
2019-10-07 17:12:37 :: S548DN4K17000133 login: 
2019-10-07 17:12:37 ::  
2019-10-07 17:12:37 :: S548DN4K17000133 login: get system status 
2019-10-07 17:12:37 :: Password: 
2019-10-07 17:12:37 :: configuring: config system interface
 
2019-10-07 17:12:48 :: configuring:     edit "mgmt"
 
2019-10-07 17:12:58 :: configuring: 	set mode static
 
2019-10-07 17:13:09 :: configuring: 	end
 
2019-10-07 17:13:19 :: configuring: 
 
2019-10-07 17:13:30 :: configuring: config system interface
 
2019-10-07 17:13:40 :: configuring:     edit "mgmt"
 
2019-10-07 17:13:51 :: configuring: 	set mode static
 
